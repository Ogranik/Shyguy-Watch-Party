import React, { useState } from "react";

export default function Home() {
  const [videoSrc, setVideoSrc] = useState(null);

  const handleFileUpload = (event) => {
    const file = event.target.files[0];
    if (file) {
      const videoURL = URL.createObjectURL(file);
      setVideoSrc(videoURL);
    }
  };

  return (
    <main className="min-h-screen bg-gray-900 text-white p-4 flex flex-col gap-4">
      <h1 className="text-3xl font-bold text-center">Wspólne oglądanie z shyguy_LIVE</h1>

      <section className="grid grid-cols-1 lg:grid-cols-2 gap-4">
        {/* Odtwarzacz lokalnych plików */}
        <div className="bg-gray-800 p-4 rounded-2xl shadow">
          <h2 className="text-xl mb-2 font-semibold">Wgraj swój plik wideo</h2>
          <input
            type="file"
            accept="video/*"
            onChange={handleFileUpload}
            className="mb-4 text-black"
          />
          {videoSrc && (
            <video
              src={videoSrc}
              controls
              className="w-full rounded-xl border border-gray-700"
            />
          )}
        </div>

        {/* Stream Twitcha */}
        <div className="bg-gray-800 p-4 rounded-2xl shadow">
          <h2 className="text-xl mb-2 font-semibold">Stream shyguy_LIVE</h2>
          <div className="aspect-w-16 aspect-h-9">
            <iframe
              src="https://player.twitch.tv/?channel=shyguy_LIVE&parent=localhost"
              height="100%"
              width="100%"
              allowFullScreen
              frameBorder="0"
              className="w-full h-72 rounded-xl"
            ></iframe>
          </div>
        </div>
      </section>

      {/* Czat Twitcha */}
      <section className="bg-gray-800 p-4 rounded-2xl shadow">
        <h2 className="text-xl mb-2 font-semibold">Czat Twitcha</h2>
        <iframe
          src="https://www.twitch.tv/embed/shyguy_LIVE/chat?parent=localhost"
          height="400"
          width="100%"
          className="rounded-xl border border-gray-700"
        ></iframe>
      </section>
    </main>
  );
}
